<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Trader Order</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/my.css" />
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/my.js"></script>
	<script src="js/bootstrap.min.js"> </script>

</head>
<body>

<div id="wrap">
	<header id="header" class="container">
		<div class="top-link">
			<a href="login.html" class="my_logout">Log Out</a>
		</div>
		<div class="my_title">Futures<a class="my_title_a">Trader</a></div>
		<nav id="nav-wrap">
			<ul id="nav">
				<li><a href="#" onclick="queryMarketClick();">Market</a></li>
				<li><a href="#" onclick="queryOrderClick();">My Order</a></li>
				<li><a href="#" onclick="queryBlotter();">Order Blotter</a></li>
				<li><a href="#" class="my_account">My Account</a>
					<ul>
						<li><a href="traderAccount.html">Setting</a></li>
						<li><a href="traderAccount.html">MyFund</a></li>
					</ul>
				</li>
			</ul>
		</nav>
	</header>

	<hr class="my_blankheaderhr"/>

	<div class="my_searchlist" id="searchlist">
		<section class="container page-content">
			<hr class="my_blanklisthr"/>
			<p class="my_blottertitle">My Order</p>
			<hr class="my_hr_T my_hr_Add"/>

			<div class="my_listitems">
				<label>Time:</label>
				<a onclick="TimeChooseList(this);" id="time_all">All</a>
				<a onclick="TimeChooseList(this);" id="time_today">Today</a>
				<a class="my_listsepLine"></a>
				<a id="time_start" data-toggle="modal" data-target="#myTimeModal" onclick="StartTimeSet();">StartTime</a>
				<p style="display:inline;">~</p>
				<a id="time_end" data-toggle="modal" data-target="#myTimeModal" onclick="EndTimeSet();">EndTime</a>		
			</div>

			<hr class="my_dashlisthr">

			<div class="my_listitems">
				<label>Trader:</label>
				<a id="user_all" onclick="UserChooseList(this);">All</a>
				<a hidden id="user_hidden" onclick="UserChooseList(this);">Nobody</a>
				<a class="my_listUsersAdd" data-toggle="modal" data-target="#myUserModal"></a>
			</div>

			<div class="my_listitems">
				<label>Category:</label>
				<a id="category_all" onclick="CategoryChooseList(this);">All</a>
				<a onclick="CategoryChooseList(this);">Agricultural</a>
				<a onclick="CategoryChooseList(this);">Energy</a>
				<a onclick="CategoryChooseList(this);">Metal</a>		
				<label class="my_listsearchbuttom" onclick="oooo();">Search</label>		<!--    !!!!!!!!!!!!!!!onclick    -->
			</div>

			<hr class="my_blanklisthr"/>
		</section>
	</div>

	<hr class="my_blanklisthr"/>

<section class="container page-content" id="main-container">

<section id="main-content">
	<table class="table table-hover table-striped  my_blottertable">
		<thead class="my_fontBold">
			<tr>
				<th>#</th>
				<th>OrderType</th>
				<th>Product</th>
				<th>Period</th>
				<th>Quantity</th>
				<th>Price</th>
				<th>Side</th>
				<th>orderTime</th>
				<th>Trader</th>
				<th>Company</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>1</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>2</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>3</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>4</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>5</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>6</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>7</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>	
			<tr>
				<td>8</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>9</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>10</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>11</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>12</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>13</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>		
			<tr>
				<td>14</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>15</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>16</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
			<tr>
				<td>17</td>
				<td>M</td>
				<td>Gold Swaps</td>
				<td>OCT16</td>
				<td>50</td>
				<td>1246</td>
				<td>Buy</td>
				<td>11:36:21</td>
				<td>Qsk</td>
				<td>QskGateway</td>
			</tr>
		</tbody>

	</table>
</section>

<section id="sidebar" class="my_sidebar my_barfixed">
	<h4 class="subtitle">Cancel Order</h4>
	<div class="listbox1">
		<ul>
			<li>
				<input class="my_fund my_cancelorderinput" id="cancelordernumber"/>
				<a href="#" class="my_fundType">Order Number #</a>
			</li>
			<li>
				<!--<a href="#" class="my_fund">20</a>-->
				<input class="my_fund my_cancelorderinput" id="cancelorderquantity"/>
				<a href="#" class="my_fundType">Quantity</a>
				
			</li>
			
			<li class="my_fundli"> 
				<button class="my_fundinjectionconfirm" onclick="cancelorderClick();">Confirm</button>
			</li>
		</ul>
	</div>	
</section>

</section>

<section class="container page-content">
	<hr class="my_blankhr"/>
</section>


<footer id="footer" align="center" class="my_footer">
	<div class="container footer-in">
		<p>CopyRights@</p>
	</div>
</footer>

<div class="modal fade" id="myTimeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
       	<div class="modal-content my_timelistModal">
           	<div class="modal-header">
               	<button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="myModalClose">&times;</button>
               	<h4 class="modal-title my_timelisth" id="myModalLabel"></h4>
           	</div>
           	<div class="modal-body">
           		<form role="form">
           			<div class="form-group my_timelistlabel">
           				<label for="name">Year</label>
  						<input type="text" class="form-control my_timelistinput" id="Time_Year" placeholder=" Input The Year">
            		</div>
            		<div class="from-group my_timelistlabel">
            			<label for="name">Month</label>
      					<select class="form-control my_timelistselect" id="Time_Month">
         					<option value=1>1</option>
         					<option value=2>2</option>
         					<option value=3>3</option>
         					<option value=4>4</option>
         					<option value=5>5</option>
         					<option value=6>6</option>
         					<option value=7>7</option>
         					<option value=8>8</option>
         					<option value=9>9</option>
         					<option value=10>10</option>
         					<option value=11>11</option>
         					<option value=12>12</option>
      					</select>
            		</div>
            		<div class="form-group my_timelistlabel">
           				<label for="name">Date</label>
  						<input type="text" class="form-control my_timelistinput" id="Time_Date" placeholder=" Input The Date">
            		</div>
            	</form>
            </div>
           	<div class="modal-footer">
            	<button type="button" class="btn btn-default my_timelistmodelbutton" style="outline:0;" data-dismiss="modal">Close</button>
               	<button type="button" class="btn btn-primary my_timelistmodelbutton" style="outline:0;" id="starttime_set" onclick="StartTimeSetClick();">Confirm</button>          
               	<button type="button" class="btn btn-primary my_timelistmodelbutton" style="outline:0;" id="endtime_set" onclick="EndTimeSetClick();">Confirm</button>
            </div>
        </div>
	</div>
</div>

<div class="modal fade" id="myUserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
       	<div class="modal-content my_timelistModal">
           	<div class="modal-header">
               	<button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="myHiddenModalClose">&times;</button>
               	<h4 class="modal-title my_timelisth">Query Trader</h4>
           	</div>
           	<div class="modal-body">
           		<form role="form">
           			<div class="form-group my_userlistlabel">
           				<label for="name">User Name</label>
  						<input type="text" class="form-control my_userlistinput" id="User_Name" placeholder=" Input The Name">
            		</div>
            	</form>
            </div>
           	<div class="modal-footer">
            	<button type="button" class="btn btn-default my_timelistmodelbutton" style="outline:0;" data-dismiss="modal">Close</button>
               	<button type="button" class="btn btn-primary my_timelistmodelbutton" style="outline:0;" onclick="showHiddenUserClick();">Confirm</button>
            </div>
        </div>
	</div>
</div>

</div>

</body>
</html>

<script type="text/javascript">

	var query_user;
	var query_category;
	var query_time_type = 0;	
	var query_StartTime = "";
	var query_EndTime = "";
	var query_time;
	var sidebarHeight = 0;
	var sidebarWidth = 0;

	function oooo(){
		//alert("user: " + query_user + " Category: " + query_category + " query_time_type: " + query_time_type);
		alert($(window).scrollTop());
		alert($(window).width());
		alert($(document).width());
	}

	$(window).scroll(function() {
		//$("#sidebar").css(top);
		
	});

	function queryMarketClick(){
		alert(1);
	}

	function queryOrderClick(){
		alert(1);
	}

	function queryBlotter(){
		alert(1);
	}

	function UserChooseList(users){		
		$(users).parent().children("a").css("background-color", "rgba(240, 240, 240, 1)");
		$(users).css("background-color", "rgba(211, 211, 211, 1)");
		query_user = $(users).text();
	}

	function CategoryChooseList(categorys){
		$(categorys).parent().children("a").css("background-color", "rgba(240, 240, 240, 1)");
		$(categorys).css("background-color", "rgba(211, 211, 211, 1)");
		query_category = $(categorys).text();
		//alert(query_category);
	}

/*	function StartTimeChooseList(starttime){
		$(starttime).parent().children("a").last().css("background-color", "rgba(240, 240, 240, 1)");
		$(starttime).css("background-color", "rgba(211, 211, 211, 1)");
	}

	function EndTimeChooseList(endtime){
		$(endtime).parent().children("a").last().css("background-color", "rgba(240, 240, 240, 1)");
		$(endtime).css("background-color", "rgba(211, 211, 211, 1)");
	}*/

	function showHiddenUserClick(){
		$("#myHiddenModalClose").click();
		$("#user_hidden").show(500);
		query_user = $("#User_Name").val();
		$("#user_hidden").text(query_user);
		$("#user_hidden").css("background-color", "rgba(211, 211, 211, 1)");
		$("#user_all").css("background-color", "rgba(240, 240, 240, 1)");
	}

	function validateYear(year){
		if (year.length != 4) return 0;
		else{
			for (var i = 0; i < 4; ++i)
				if (!(year.charAt(i) <= '9') && (year.charAt(i) >= '0'))
					return 0;
			return year * 1;
		}
	}

	function validateDate(year, month, date){
		var minDate = 1;
		var maxDate = 31;
		if ((month == 1) || (month == 3) || (month == 5) || (month == 7) || (month == 8) || (month == 10) || (month == 12)) maxDate = 31;
		else if ((month == 4) ||(month == 6) ||(month == 9) ||(month == 11)) maxDate = 30;
		else{
			if ((year % 400) == 0) maxDate = 29;
			else if ((year % 100) == 0) maxDate = 28;
			else if ((year % 4) == 0) maxDate = 29;
			else maxDate = 28;
		}
		for (var i = 0; i < date.length; ++i)
			if (!(date.charAt(i) <= '9') && (date.charAt(i) >= '0'))
				return 0;
		var curDate = date * 1;
		if ((curDate >= minDate) && (curDate <= maxDate)) return curDate;
		else return 0;
	}

	function StartTimeSetClick(){
		var Tyear = $("#Time_Year").val();
		var Tmonth = $("#Time_Month").val();
		var Tdate = $("#Time_Date").val();
		if (Tyear == "") alert("请输入年份");
		else if (Tdate == "") alert("请输入日期");
		else{
			var _year = validateYear(Tyear);
			var _month = Tmonth * 1;
			if (_year == 0){
				alert("非法年份!");
			}
			else{
				var _date = validateDate(_year, _month, Tdate);
				if (_date == 0) alert("非法日期");
				else{
					var new_starttime = _year + ":";
					if (_month < 10) new_starttime += ("" + 0 + _month + ":");
					else new_starttime += (_month + ":");
					if (_date < 10) new_starttime += ("" + 0 + _date);
					else new_starttime += (_date);
					if ((query_EndTime != "") && (query_EndTime < new_starttime)){
						alert("起始日期超过截止日期!");
					}
					else{
						query_StartTime = new_starttime;
						query_time_type = 1;
						$("#time_start").text(query_StartTime);
						$("#time_all").css("background-color", "rgba(240, 240, 240, 1)");
						$("#time_today").css("background-color", "rgba(240, 240, 240, 1)");
						$("#time_start").css("background-color", "rgba(211, 211, 211, 1)");
						$("#myModalClose").click();
					}					
				}
			}
		}
	}

	function EndTimeSetClick(){
		var Tyear = $("#Time_Year").val();
		var Tmonth = $("#Time_Month").val();
		var Tdate = $("#Time_Date").val();
		if (Tyear == "") alert("请输入年份");
		else if (Tdate == "") alert("请输入日期");
		else{
			var _year = validateYear(Tyear);
			var _month = Tmonth * 1;
			if (_year == 0){
				alert("非法年份!");
			}
			else{
				var _date = validateDate(_year, _month, Tdate);
				if (_date == 0) alert("非法日期");
				else{
					var new_starttime = _year + ":";
					if (_month < 10) new_starttime += ("" + 0 + _month + ":");
					else new_starttime += (_month + ":");
					if (_date < 10) new_starttime += ("" + 0 + _date);
					else new_starttime += (_date);
					if ((query_StartTime != "") && (query_StartTime > new_starttime)){
						alert("截止日期不到起始日期!");
					}
					else{
						query_EndTime = new_starttime;
						query_time_type = 1;
						$("#time_end").text(query_EndTime);
						$("#time_all").css("background-color", "rgba(240, 240, 240, 1)");
						$("#time_today").css("background-color", "rgba(240, 240, 240, 1)");
						$("#time_end").css("background-color", "rgba(211, 211, 211, 1)");
						$("#myModalClose").click();
					}					
				}
			}
		}
	}

	function StartTimeSet(){
		$("#myModalLabel").text("Blotter Start Time");
		$("#starttime_set").show();
		$("#endtime_set").hide();
		$("#Time_Year").val(null);
		$("#Time_Date").val(null);
	}

	function EndTimeSet(){
		$("#myModalLabel").text("Blotter End Time");
		$("#starttime_set").hide();
		$("#endtime_set").show();
		$("#Time_Year").val(null);
		$("#Time_Date").val(null);
	}

	function TimeChooseList(times){
		$(times).parent().children("a").css("background-color", "rgba(240, 240, 240, 1)");
		$(times).css("background-color", "rgba(211, 211, 211, 1)");
		query_time_type = 0;
		query_StartTime = "";
		query_EndTime = "";
		query_time = $(times).text();
	}

	function InitChooseList(){
		UserChooseList("#user_all");
		CategoryChooseList("#category_all");
		TimeChooseList("#time_all");
	}

	$(window).load(function() {
    	$('#slider').nivoSlider();
    });

    window.onresize = function(){
    	sidebarWidth = ($(document).width() - $("#main-container").width()) / 2; 
    	$("#sidebar").css("right", (sidebarWidth).toString() + "px");
    };

    $(document).ready(function(){

    	InitChooseList();
    	sidebarHeight = $("#header").height() + $("#searchlist").height() + 60;
    	sidebarWidth = ($(document).width() - $("#main-container").width()) / 2; 
    	//alert(sidebarWidth);
    	$("#sidebar").css("top", (sidebarHeight).toString() + "px");
    	$("#sidebar").css("right", (sidebarWidth).toString() + "px");
    });
</script>